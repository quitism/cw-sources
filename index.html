<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CatWeb LitterBox Tools</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg:#0f1113; --panel:#121417; --muted:#98a0ac; --accent:#61dafb; --accent-2:#7bd389;
            --border:rgba(255,255,255,0.06); --glass: rgba(255,255,255,0.02);
            --text:#e6eef6; --danger:#ff6b6b; --shadow: 0 10px 30px rgba(0,0,0,0.6);
            --code-bg: rgba(255,255,255,0.02); --highlight: rgba(107, 255, 178, 0.12);
            --scroll-thumb: rgba(255,255,255,0.08);
        }
        /* Light mode variables */
        .light {
            --bg: #f6f8fa; --panel:#ffffff; --muted:#586069; --accent:#0066cc; --accent-2:#0b9d58;
            --border: rgba(2,8,23,0.06); --glass: rgba(2,8,23,0.02); --text:#0b1220;
            --code-bg: #f3f7fb; --highlight: rgba(12,120,60,0.08); --scroll-thumb: rgba(0,0,0,0.12);
        }
        *{box-sizing:border-box}
        html,body{height:100%; margin:0}
        body{
            font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: linear-gradient(180deg, rgba(97,218,251,0.02), transparent), var(--bg);
            color:var(--text);
            padding:20px;
            -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
            display:flex; flex-direction:column; gap:20px; min-height:100vh;
        }

        /* Header improvements */
        .header{ 
            width:100%; max-width:1400px; 
            display:flex; gap:20px; align-items:center; justify-content:space-between;
            margin:0 auto;
            flex-wrap:wrap;
        }

        .brand{ 
            display:flex; gap:12px; align-items:center; 
            flex-shrink:0;
        }
        .logo{ 
            width:48px; height:48px; border-radius:12px; 
            display:flex; align-items:center; justify-content:center; 
            font-weight:800; font-size:18px; color:#052028; 
            background:linear-gradient(135deg,var(--accent),#4fb5ea);
            box-shadow: 0 4px 12px rgba(97, 218, 251, 0.15);
        }
        .title{ line-height:1.2 }
        .title h1{ margin:0; font-size:18px; font-weight:700 }
        .title p{ margin:0; color:var(--muted); font-size:14px }

        /* Better button system */
        .toolbar{ 
            display:flex; gap:12px; align-items:center; flex-wrap:wrap; 
            background:var(--glass); backdrop-filter:blur(8px);
            border:1px solid var(--border); border-radius:12px;
            padding:8px;
        }

        .btn-group {
            display:flex; gap:4px; align-items:center;
            background:rgba(255,255,255,0.03); border-radius:10px;
            padding:4px;
        }

        .btn{ 
            border:none; cursor:pointer; padding:10px 16px; border-radius:8px; 
            font-weight:600; font-size:14px; transition:all 0.2s;
            display:flex; align-items:center; gap:8px;
            white-space:nowrap;
        }
        .btn:hover { transform:translateY(-1px); }
        .btn:active { transform:translateY(0px); }

        .btn.primary{ 
            background:linear-gradient(180deg,var(--accent),#4fb5ea); 
            color:#051017; box-shadow:0 4px 12px rgba(97, 218, 251, 0.25);
        }
        .btn.primary:hover{ box-shadow:0 6px 16px rgba(97, 218, 251, 0.35); }

        .btn.secondary{ 
            background:linear-gradient(180deg,var(--accent-2),#5cb373); 
            color:#051017; box-shadow:0 4px 12px rgba(123, 211, 137, 0.25);
        }
        .btn.secondary:hover{ box-shadow:0 6px 16px rgba(123, 211, 137, 0.35); }

        .btn.ghost{ 
            background:transparent; border:1px solid var(--border); color:var(--text); 
        }
        .btn.ghost:hover{ 
            background:var(--glass); border-color:var(--accent);
        }

        .btn.small{ padding:8px 12px; font-size:13px; font-weight:500; text-decoration: none }
        .btn.icon{ padding:10px; width:44px; justify-content:center; }

        .btn:disabled {
            opacity:0.5; cursor:not-allowed; transform:none !important;
        }

        /* View mode tabs */
        .view-modes {
            display:flex; gap:4px; background:var(--glass); 
            border:1px solid var(--border); border-radius:10px; padding:4px;
        }
        .view-mode {
            padding:8px 16px; border-radius:6px; cursor:pointer;
            color:var(--muted); font-weight:500; font-size:13px;
            transition:all 0.2s;
        }
        .view-mode.active {
            background:var(--accent); color:#051017; font-weight:600;
        }
        .view-mode:hover:not(.active) {
            background:var(--glass); color:var(--text);
        }

        /* Improved layout system */
        .main-container {
            width:100%; max-width:1400px; margin:0 auto;
            display:flex; flex-direction:column; gap:20px;
            flex:1;
        }

        .layout {
            display:grid; gap:20px; align-items:start;
        }

        /* Different layout modes */
        .layout.split-view {
            grid-template-columns: 1fr 1fr;
            grid-template-areas: 
                "input output"
                "controls controls";
        }

        .layout.full-width {
            grid-template-columns: 1fr;
            grid-template-areas:
                "input"
                "output" 
                "controls";
        }

        .layout.triple-view {
            grid-template-columns: 1fr 1fr 350px;
            grid-template-areas: "input output controls";
        }

        /* Mobile responsive breakpoints */
        @media (max-width: 1200px) {
            .layout.triple-view {
                grid-template-columns: 1fr 1fr;
                grid-template-areas: 
                    "input output"
                    "controls controls";
            }
        }

        @media (max-width: 768px) {
            body { padding:16px; gap:16px; }
            
            .header {
                flex-direction:column; gap:16px; align-items:stretch;
            }
            
            .toolbar {
                justify-content:center; gap:8px;
                flex-wrap:wrap;
            }
            
            .btn-group {
                gap:2px; padding:2px;
            }
            
            .btn { 
                padding:8px 12px; font-size:13px;
                min-height:40px;
            }
            
            .layout.split-view,
            .layout.triple-view {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "input"
                    "output"
                    "controls";
            }
            
            .view-modes {
                order:-1; align-self:center;
            }
        }

        @media (max-width: 480px) {
            .toolbar {
                padding:6px; gap:6px;
            }
            
            .btn {
                padding:8px 10px; font-size:12px;
                min-height:36px;
            }
            
            .btn-group {
                flex-wrap:wrap; justify-content:center;
            }
        }

        /* Grid areas */
        .input-section { grid-area: input; }
        .output-section { grid-area: output; }
        .controls-section { grid-area: controls; }

        .card{ 
            background:linear-gradient(180deg,var(--panel), rgba(255,255,255,0.01)); 
            border-radius:16px; padding:20px; border:1px solid var(--border); 
            box-shadow:var(--shadow); backdrop-filter:blur(8px);
        }

        .card-header{ 
            display:flex; gap:12px; align-items:center; justify-content:space-between; 
            margin-bottom:16px; flex-wrap:wrap;
        }
        .card-title {
            font-weight:700; font-size:16px; margin:0;
            display:flex; align-items:center; gap:8px;
        }
        .card-subtitle {
            color:var(--muted); font-size:13px; margin:0;
        }

        /* Enhanced controls */
        .controls-grid {
            display:grid; gap:16px;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        .control-group {
            display:flex; flex-direction:column; gap:8px;
        }
        .control-row {
            display:flex; gap:8px; align-items:center; flex-wrap:wrap;
        }
        .control-label {
            font-size:13px; font-weight:600; color:var(--muted);
            min-width:80px;
        }

        /* Better form inputs */
        .input, .select {
            padding:10px 12px; border-radius:8px; 
            border:1px solid var(--border); 
            background:var(--glass); color:var(--text);
            font-size:14px; transition:all 0.2s;
        }
        .input:focus, .select:focus {
            outline:none; border-color:var(--accent);
            box-shadow:0 0 0 3px rgba(97, 218, 251, 0.1);
        }

        /* Editors */
        .editor {
            width:100%; height:50vh; min-height:300px; resize:vertical; 
            background:var(--code-bg); border-radius:12px; 
            border:1px solid rgba(255,255,255,0.03); padding:16px; 
            color:var(--text); font-family:"Fira Code","Consolas",monospace; 
            font-size:13px; line-height:1.4; 
            transition:border-color 0.2s;
        }
        .editor:focus {
            outline:none; border-color:var(--accent);
        }

        .preview-output{ 
            white-space:pre-wrap; word-break:break-word; 
            font-family:"Fira Code","Consolas",monospace; font-size:13px; 
            padding:16px; border-radius:12px; background:var(--code-bg); 
            min-height:50vh; height:50vh; overflow:auto; 
            border:1px solid rgba(255,255,255,0.03);
        }

        /* Enhanced legend and tables */
        .legend-container {
            max-height:50vh; overflow:auto; 
            border:1px solid var(--border); border-radius:12px;
            background:var(--glass);
        }

        .legend-list{ 
            padding:8px; font-family:"Fira Code",monospace; font-size:13px;
        }
        .legend-entry{ 
            display:flex; justify-content:space-between; gap:12px; 
            padding:10px 12px; border-radius:8px; margin-bottom:4px; 
            background:transparent; align-items:center;
            transition:background 0.2s;
        }
        .legend-entry:hover {
            background:var(--glass);
        }
        .legend-key{ color:var(--muted); font-weight:500; }
        .legend-val{ color:var(--accent-2); font-weight:700; }

        .table-container {
            border:1px solid var(--border); border-radius:12px;
            overflow:hidden; background:var(--glass);
            max-height:30vh; overflow-y:auto;
        }

        .table{ 
            width:100%; border-collapse:collapse; 
            font-family:"Fira Code",monospace; font-size:13px;
        }
        .table th, .table td{ 
            text-align:left; padding:10px 12px; 
            border-bottom:1px solid rgba(255,255,255,0.04);
        }
        .table th{ 
            color:var(--muted); font-weight:700; 
            background:var(--glass); position:sticky; top:0;
        }
        .table tbody tr:hover {
            background:var(--glass);
        }

        /* Status and badges */
        .status-bar {
            display:flex; gap:12px; align-items:center; 
            padding:12px 16px; background:var(--glass); 
            border:1px solid var(--border); border-radius:12px;
            font-size:13px; flex-wrap:wrap;
            margin-top: 20px;
        }

        .badge{ 
            padding:4px 10px; border-radius:999px; font-weight:600; font-size:12px;
        }
        .badge.primary{ background:rgba(97,218,251,0.15); color:var(--accent); }
        .badge.success{ background:rgba(123,211,137,0.15); color:var(--accent-2); }
        .badge.warning{ background:rgba(255,193,7,0.15); color:#ffc107; }

        /* Theme toggle improvements */
        .theme-toggle { 
            display:flex; align-items:center; gap:8px;
            padding:6px; border-radius:8px; cursor:pointer;
            transition:background 0.2s;
        }
        .theme-toggle:hover {
            background:var(--glass);
        }
        .toggle{ 
            width:44px; height:24px; border-radius:999px; 
            background:rgba(255,255,255,0.06); position:relative; 
            transition:background 0.3s;
        }
        .toggle.active {
            background:var(--accent);
        }
        .knob{ 
            position:absolute; width:20px; height:20px; border-radius:50%; 
            top:2px; left:2px; background:#fff; 
            transition:all 0.3s ease; box-shadow:0 2px 4px rgba(0,0,0,0.2);
        }

        /* Highlights */
        .highlight{ 
            background:var(--highlight); padding:0 4px; border-radius:4px; 
            color:inherit; box-shadow:0 0 0 1px rgba(107, 255, 178, 0.2);
        }

        /* Scrollbars */
        .preview-output::-webkit-scrollbar, 
        .legend-list::-webkit-scrollbar, 
        .editor::-webkit-scrollbar,
        .table-container::-webkit-scrollbar { 
            width:8px; height:8px; 
        }
        .preview-output::-webkit-scrollbar-track, 
        .legend-list::-webkit-scrollbar-track, 
        .editor::-webkit-scrollbar-track,
        .table-container::-webkit-scrollbar-track { 
            background:transparent; 
        }
        .preview-output::-webkit-scrollbar-thumb, 
        .legend-list::-webkit-scrollbar-thumb, 
        .editor::-webkit-scrollbar-thumb,
        .table-container::-webkit-scrollbar-thumb { 
            background:var(--scroll-thumb); border-radius:10px; 
        }
        *{ scrollbar-color: var(--scroll-thumb) transparent; scrollbar-width: thin; }

        /* Animations */
        @keyframes fadeIn {
            from { opacity:0; transform:translateY(10px); }
            to { opacity:1; transform:translateY(0); }
        }
        .card {
            animation: fadeIn 0.3s ease-out;
        }

        /* Loading states */
        .loading {
            position:relative; overflow:hidden;
        }
        .loading::after {
            content:''; position:absolute; top:0; left:-100%; 
            width:100%; height:100%; 
            background:linear-gradient(90deg, transparent, rgba(97,218,251,0.1), transparent);
            animation: loading 1.5s infinite;
        }
        @keyframes loading {
            to { left:100%; }
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .tool-card {
            text-align: left;
            padding: 25px;
            border-radius: 16px;
            background: linear-gradient(180deg, var(--panel), rgba(255,255,255,0.01));
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            backdrop-filter: blur(8px);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.7);
        }

        .tool-card h3 {
            font-size: 1.5em;
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--accent);
        }

        .tool-card p {
            color: var(--muted);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .tool-card .btn {
            width: auto;
            display: inline-flex;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="brand">
            <div class="logo">CW</div>
            <div class="title">
                <h1>CatWeb LitterBox</h1>
                <p class="card-subtitle">Toolbox</p>
            </div>
        </div>
        <div class="toolbar">
            <div class="btn-group">
                <a href="index.html" class="btn ghost small">üè† Home</a>
                <a href="asset-manager.html" class="btn ghost small">üñºÔ∏è Asset Manager</a>
                <a href="converter.html" class="btn ghost small">üîÑ Converter</a>
            </div>
            <div class="theme-toggle" id="themeToggle">
                <div class="toggle" id="toggleEl">
                    <div class="knob" id="toggleKnob"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="main-container">
        <div class="container">
            <h1>CatWeb LitterBox</h1>
            <p class="card-subtitle">yet another "CatWeb ToolBox" site</p>

            <div class="tool-grid">
                <div class="tool-card">
                    <h3>üñºÔ∏è Asset Manager</h3>
                    <p>View and manage assets (images, audio, user profiles) used within your CatWeb JSON, along with their usage locations.</p>
                    <a href="asset-manager.html" class="btn primary">Go to Asset Manager</a>
                </div>

                <div class="tool-card">
                    <h3>üîÑ Variable Converter</h3>
                    <p>Convert variable names/references in your CatWeb JSON exports to numbers, useful for sharing or obfuscation.</p>
                    <a href="converter.html" class="btn primary">Go to Converter</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const themeToggle = document.getElementById('themeToggle');
        const toggleEl = document.getElementById('toggleEl');
        const toggleKnob = document.getElementById('toggleKnob');

        // Theme toggle logic
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('light');
            updateThemeKnob();
            localStorage.setItem('theme', document.documentElement.classList.contains('light') ? 'light' : 'dark');
        });

        function updateThemeKnob(){
            const isLight = document.documentElement.classList.contains('light');
            toggleKnob.style.transform = isLight ? 'translateX(18px)' : 'translateX(0px)';
        }

        // Load theme from localStorage
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.documentElement.classList.add('light');
        } else {
            document.documentElement.classList.remove('light');
        }
        updateThemeKnob();
    </script>
</body>
</html>